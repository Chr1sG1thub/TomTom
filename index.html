<!DOCTYPE html>
<html>
<head>
<title>TomTom</title>
</head>

<body>
<script>

const apiKey  = 'BWvoMYm4TNcjfN2isTdSaVgwewWb0pSz';
const origin  = '42.6983,2.8956';   // Perpignan-ish
const dest    = '41.3851,2.1734';   // Barcelona-ish
const departAt = '2025-12-11T08:00:00';  // ISO 8601 local time

const url = `https://api.tomtom.com/routing/1/calculateRoute/${origin}:${dest}/json` +
            `?travelMode=car&traffic=true&departAt=${encodeURIComponent(departAt)}&key=${apiKey}`;

fetch(url)
  .then(r => {
    if (!r.ok) throw new Error(`HTTP ${r.status}`);
    return r.json();
  })
  .then(data => {
    const route = data.routes && data.routes[0];
    if (!route) {
      console.error('No route found', data);
      return;
    }
    const s = route.summary;
    console.log('Distance (km):', (s.lengthInMeters / 1000).toFixed(1));
    console.log('Travel time (min):', (s.travelTimeInSeconds / 60).toFixed(1));
    console.log('Traffic delay (min):', (s.trafficDelayInSeconds / 60).toFixed(1));
  })
  .catch(err => console.error('TomTom error:', err));
  
</script>
  
</body>

</html>
